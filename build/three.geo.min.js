/*! three.geo 2013-12-09 */
THREE.geo={},THREE.geo.TerrainGeometry=function(a,b,c,d,e){THREE.Geometry.call(this),this.width=a,this.height=b,this.widthSegments=d||1,this.heightSegments=e||1;var f,g,h=a/2,i=b/2,j=this.widthSegments,k=this.heightSegments,l=j+1,m=k+1,n=this.width/j,o=this.height/k,p=new THREE.Vector3(0,0,1);for(g=0;m>g;g++)for(f=0;l>f;f++){var q=f*n-h,r=g*o-i;console.log(this.vertices.length),this.vertices.push(new THREE.Vector3(q,-r,0))}for(g=0;k>g;g++)for(f=0;j>f;f++){var s=f+l*g,t=f+l*(g+1),u=f+1+l*(g+1),v=f+1+l*g,w=new THREE.Vector2(f/j,1-g/k),x=new THREE.Vector2(f/j,1-(g+1)/k),y=new THREE.Vector2((f+1)/j,1-(g+1)/k),z=new THREE.Vector2((f+1)/j,1-g/k),A=new THREE.Face3(s,t,v);A.normal.copy(p),A.vertexNormals.push(p.clone(),p.clone(),p.clone()),this.faces.push(A),this.faceVertexUvs[0].push([w,x,z]),A=new THREE.Face3(t,u,v),A.normal.copy(p),A.vertexNormals.push(p.clone(),p.clone(),p.clone()),this.faces.push(A),this.faceVertexUvs[0].push([x.clone(),y,z.clone()])}this.computeCentroids()},THREE.TerrainGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.geo.TerrainLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager},THREE.geo.TerrainLoader.prototype={constructor:THREE.TerrainLoader,load:function(a,b,c,d){var e=this,f=new XMLHttpRequest;void 0!==b&&f.addEventListener("load",function(c){b(new Uint16Array(c.target.response)),e.manager.itemEnd(a)},!1),void 0!==c&&f.addEventListener("progress",function(a){c(a)},!1),void 0!==d&&f.addEventListener("error",function(a){d(a)},!1),void 0!==this.crossOrigin&&(f.crossOrigin=this.crossOrigin),f.open("GET",a,!0),f.responseType="arraybuffer",f.send(null),e.manager.itemStart(a)},setCrossOrigin:function(a){this.crossOrigin=a}};